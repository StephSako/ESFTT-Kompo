{% extends 'base.html.twig' %}

{% block title %}Back office - Les compétiteurs{% endblock %}
{% import 'macros/flash.html.twig' as flash %}
{% import 'macros/account.edit.html.twig' as edit_account %}

{% block body %}

    {{ include("components/navbar_backoffice.html.twig") }}

    <div class="container">

        {% for message in app.flashes('success') %}
            {{ flash.success(message) }}
        {% endfor %}

        {% for message in app.flashes('fail') %}
            {{ flash.fail(message) }}
        {% endfor %}

        <div class="card-panel center">

            <a style="margin-bottom: 20px;" href="{{ path('back_office.competiteur.new') }}" class="btn waves-effect waves-light blue lighten-2 btn_gestion"><i class="material-icons">person_add</i> Créer un compétiteur</a>

            <table class="striped centered responsive-table table_competiteur_backoffice">
                <thead>
                <tr>
                    <th></th>
                    <th class="avatar">Avatar</th>
                    <th>Nom</th>
                    <th>Identifiant</th>
                    <th>Licence</th>
                    <th>Classement</th>
                    <th></th>
                </tr>
                </thead>

                <tbody>
                {% for competiteur in competiteurs %}
                    <tr>
                        <td>
                            {% if competiteur.role %}
                                <span class="new badge blue" data-badge-caption="Capitaine"></span>
                            {% else %}
                                <span class="new badge green" data-badge-caption="Joueur"></span>
                            {% endif %}</td>
                        <td class="avatar"><img src="{{ competiteur.avatar }}" alt="image de profil du joueur" width="80rem" height="80rem"></td>
                        <td>{{ competiteur.nom }}</td>
                        <td>{{ competiteur.username }}</td>
                        <td>{{ competiteur.licence }}</td>
                        <td>{{ competiteur.classementOfficiel }}</td>
                        <td><a href="{{ path('backoffice.account.edit', {id: competiteur.idCompetiteur}) }}" class="btn waves-effect waves-light blue lighten-2 btn_gestion"><i class="material-icons">edit</i></a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

    </div>

{% endblock %}