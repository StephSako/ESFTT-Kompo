{% extends 'base.html.twig' %}

{% block title %}Back office - Les compétiteurs{% endblock %}
{% import 'macros/flash.html.twig' as flash %}
{% import 'macros/account.edit.html.twig' as edit_account %}
{% form_theme form 'components/materialize_form_theme.html.twig' %}

{% block body %}

    {{ include("components/navbar_backoffice.html.twig") }}

    <div class="container">

        {% for message in app.flashes('success') %}
            {{ flash.success(message) }}
        {% endfor %}

        {% for message in app.flashes('fail') %}
            {{ flash.fail(message) }}
        {% endfor %}

        {{ form_errors(form) }}

        {{ edit_account.edit_account('backoffice', 'Ajouter un compétiteur', form, 'https://cdn1.iconfinder.com/data/icons/ui-next-2020-shopping-and-e-commerce-1/12/75_user-circle-512.png', 'Créer') }}

        <div class="card-panel center">
            <table class="striped centered">
                <thead>
                <tr>
                    <th></th>
                    <th><h5>Image de profil</h5></th>
                    <th><h5>Nom</h5></th>
                    <th><h5>Identifiant</h5></th>
                    <th><h5>Licence</h5></th>
                    <th><h5>Classement officiel</h5></th>
                    <th></th>
                </tr>
                </thead>

                <tbody>
                {% for competiteur in competiteurs %}
                    <tr>
                        <td>{% if competiteur.role %}<span class="new badge blue" data-badge-caption="Capitaine"></span>{% endif %}</td>
                        <td><img src="{{ competiteur.avatar }}" alt="image de profil du joueur" width="80rem" height="80rem"></td>
                        <td>{{ competiteur.nom }}</td>
                        <td>{{ competiteur.username }}</td>
                        <td>{{ competiteur.licence }}</td>
                        <td>{{ competiteur.classementOfficiel }}</td>
                        <td><a href="{{ path('backoffice.account.edit', {id: competiteur.idCompetiteur}) }}" class="btn waves-effect waves-light blue lighten-2"><i class="material-icons">edit</i></a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

    </div>

{% endblock %}