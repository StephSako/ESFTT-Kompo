{% macro tableActifs(joueurs, onlyOneAdmin ) %}
    <table id="table-to-adapt-columns" class='striped centered responsive-table backoffice-table'>
        <thead>
            <tr class='hide-on-med-and-down'>
                <th class='th_picture_compet_table'></th>
                <th>Avatar</th>
                <th>Nom</th>
                <th>Licence</th>
                <th>Classement</th>
                <th class="truncate">Certificat médical</th>
                <th></th>
                {% if 'ROLE_ADMIN' in app.token.roleNames %}
                    <th></th>
                {% endif %}
            </tr>
        </thead>

        <tbody>
        {% for competiteur in joueurs %}
            <tr>
                <td style="padding-top: 8px; padding-bottom: 8px;">
                    {% if competiteur.isAdmin %}
                        <span class='new badge red' data-badge-caption='Administrateur'></span>
                    {% endif %}

                    {% if competiteur.isCompetiteur %}
                        {% if competiteur.isAdmin %}<br>{% endif %}
                        <span style="margin-top: 2px" class='new badge green' data-badge-caption='Compétiteur'></span>
                        {% if competiteur.isCritFed %}
                            <br><span style="margin-top: 2px" class='new badge purple' data-badge-caption='Crit. féd.'></span>
                        {% endif %}
                    {% elseif competiteur.isLoisir %}
                        {% if competiteur.isAdmin %}<br>{% endif %}
                        <span style="margin-top: 2px" class='new badge orange' data-badge-caption='Loisir'></span>
                    {% endif %}

                    {% if competiteur.isCapitaine %}
                        {% if competiteur.isAdmin or competiteur.isCompetiteur or competiteur.isLoisir %}<br>{% endif %}
                        <span style="margin-top: 2px" class='new badge blue' data-badge-caption='Capitaine'></span>
                    {% endif %}

                    {% if competiteur.isEntraineur %}
                        {% if competiteur.isAdmin or competiteur.isCompetiteur or competiteur.isLoisir or competiteur.isCapitaine %}<br>{% endif %}
                        <span style="margin-top: 2px" class="new badge brown lighten-1" data-badge-caption="Entraîneur"></span>
                    {% endif %}
                </td>
                <td class="td_picture_compet">
                    {% if competiteur.avatar %}
                        <img class="picture_compet avatar" src='{{ vich_uploader_asset(competiteur, 'imageFile') }}' alt='Avatar' width='60rem' height='60rem'>
                    {% else %}
                        <img class="picture_compet avatar" src='{{ asset('images/account.png') }}' alt='Avatar' width='60rem' height='60rem'>
                    {% endif %}
                </td>
                <td>
                    {{ competiteur.nom }} {{ competiteur.prenom }}
                </td>
                <td>
                    {% if competiteur.licence %}
                        {{ competiteur.licence }}
                    {% else %}
                        <span class='red-text lighten-2'>Licence indéfinie</span>
                    {% endif %}
                </td>
                <td {% if competiteur.isLoisir %}class="hide-on-med-and-down"{% endif %}>
                    {% if competiteur.classementOfficiel %}
                        {{ competiteur.classementOfficiel }} pts
                    {% else %}
                        <span class='red-text lighten-2'>{% if competiteur.isCompetiteur %}Classement indéfini{% endif %}</span>
                    {% endif %}
                </td>
                <td>
                    {% if competiteur.age != null and competiteur.age < 18 %}
                        <span class="grey-text"><i>Mineur (facultatif)</i></span>
                    {% else %}
                        <span>
                            <i id="icon-renew-certif{{ competiteur.idCompetiteur }}" class="{% if not competiteur.certifMedicalInvalid.status %}green{% else %}red{% endif %}-text material-icons" style="vertical-align: bottom;">health_and_safety</i>
                            <span class="label-renew-certif{{ competiteur.idCompetiteur }}">{{ competiteur.certifMedicalInvalid.shortMessage }}</span>
                        </span>
                        {% if competiteur.certifMedicalInvalid.status %}
                            <br><button id="btnCertif{{ competiteur.idCompetiteur }}" onclick="renouvelerCertifMedical({{ competiteur.idCompetiteur }}, '{{ competiteur.prenom }}', true)" class="btn-small btn-floating green renew_certif_table"><i class="material-icons">autorenew</i></button>

                            <div hidden id="loaderCertif{{ competiteur.idCompetiteur }}">
                                <div class="preloader-wrapper small active" style="width: 27px; height: 27px;">
                                    <div class="spinner-layer spinner-blue-only">
                                        <div class="circle-clipper left">
                                            <div class="circle"></div>
                                        </div><div class="gap-patch">
                                            <div class="circle"></div>
                                        </div><div class="circle-clipper right">
                                            <div class="circle"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endif %}
                </td>
                <td style="padding-bottom: 0; padding-top: 0;">
                    <a href='{{ path('backoffice.competiteur.edit', {idCompetiteur: competiteur.idCompetiteur}) }}' class='btn waves-effect blue lighten-2 btn_gestion'><i class='material-icons'>edit</i></a>
                </td>
                {% if 'ROLE_ADMIN' in app.token.roleNames %}
                    <td>
                        {% if not (onlyOneAdmin and competiteur.admin) %}
                            <form method='post' action='{{ path('backoffice.competiteur.delete', {id: competiteur.idCompetiteur}) }}' onsubmit="return confirm('Êtes-vous sûr de supprimer le membre ?')">
                                <input type='hidden' name='_method' value='DELETE'>
                                <input type='hidden' name='_token' value='{{ csrf_token('delete' ~ competiteur.idCompetiteur) }}'>
                                <button class='btn waves-effect red lighten-2 btn_gestion'>
                                    <i class='material-icons'>delete</i>
                                </button>
                            </form>
                        {% else %}
                            <div class="tooltipped" data-position="top" data-tooltip="Un administrateur minimum requis">
                                <a class='btn red lighten-2 btn_gestion' disabled="">
                                    <i class='material-icons'>delete</i>
                                </a>
                            </div>
                        {% endif %}
                    </td>
                {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <script type="text/javascript" src="{{ asset('JS/renouvelerCertifMedical.min.js') }}" defer></script>
{% endmacro %}

{% macro tableArchives(joueursArchives, onlyOneAdmin) %}
    <table id="table-to-adapt-columns" class='striped centered responsive-table backoffice-table'>
        <thead>
            <tr class='hide-on-med-and-down'>
                <th class='th_picture_compet_table'></th>
                <th>Avatar</th>
                <th>Nom</th>
                <th>Licence</th>
                <th>Dernier classement</th>
                <th></th>
                {% if 'ROLE_ADMIN' in app.token.roleNames %}
                    <th></th>
                {% endif %}
            </tr>
        </thead>

        <tbody class="grey-text text-lighten-1">
            {% for competiteur in joueursArchives %}
                <tr>
                    <td style="padding-top: 8px; padding-bottom: 8px;">
                        <span class="new badge grey lighten-1 white-text" data-badge-caption="Archivé"></span>
                    </td>
                    <td class="td_picture_compet">
                        {% if competiteur.avatar %}
                            <img class="picture_compet avatar" src='{{ vich_uploader_asset(competiteur, 'imageFile') }}' alt='Avatar' width='60rem' height='60rem'>
                        {% else %}
                            <img class="picture_compet avatar" src='{{ asset('images/account.png') }}' alt='Avatar' width='60rem' height='60rem'>
                        {% endif %}
                    </td>
                    <td>
                        {{ competiteur.nom }} {{ competiteur.prenom }}
                    </td>
                    <td class="hide-on-med-and-down">
                        {% if competiteur.licence %}
                            {{ competiteur.licence }}
                        {% else %}
                            Licence indéfinie
                        {% endif %}
                    </td>
                    <td class="hide-on-med-and-down">
                        {% if competiteur.classementOfficiel %}
                            {{ competiteur.classementOfficiel }} pts
                        {% else %}
                            Classement indéfini
                        {% endif %}
                    </td>
                    <td style="padding-bottom: 0; padding-top: 0;">
                        <a href='{{ path('backoffice.competiteur.edit', {idCompetiteur: competiteur.idCompetiteur}) }}' class='btn waves-effect blue lighten-2 btn_gestion'><i class='material-icons'>edit</i></a>
                    </td>
                    {% if 'ROLE_ADMIN' in app.token.roleNames %}
                        <td>
                            <form method='post' action='{{ path('backoffice.competiteur.delete', {id: competiteur.idCompetiteur}) }}' onsubmit="return confirm('Êtes-vous sûr de supprimer le membre ?')">
                                <input type='hidden' name='_method' value='DELETE'>
                                <input type='hidden' name='_token' value='{{ csrf_token('delete' ~ competiteur.idCompetiteur) }}'>
                                <button class='btn waves-effect red lighten-2 btn_gestion'>
                                    <i class='material-icons'>delete</i>
                                </button>
                            </form>
                        </td>
                    {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endmacro %}