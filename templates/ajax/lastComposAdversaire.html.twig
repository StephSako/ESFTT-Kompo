{% if erreur %}
    <p class="pastille red white-text">{{ erreur }}</p>
{% else %}
    <h6><b>Joueurs align√©s par {{ nomAdversaire }}</b></h6>

    {% if journees|length > 0 %}
        {% for journee in journees %}
            {% if journee.exempt %}
                <p style="margin-top: 30px; margin-bottom: 8px"><span class="pastille grey darken-1 reset"><b>J{{ loop.index }} :</b> Exempt√©e</span></p>
            {% else %}
                <p style="margin-top: 30px; margin-bottom: 8px">
                    <i style="margin-right: 4px" class="material-icons">{% if journee.domicile %}home{% else %}directions_car{% endif %}</i>
                    <span class="pastille blue reset"><b>J{{ loop.index }} :</b> {{ journee.nomAdversaireBis }}</span>
                    {% if journee.resultat.resultat and journee.joueurs|length > 0 %}
                        <i class="material-icons">chevron_right</i><span class="pastille {{ journee.resultat.resultat }} reset">{{ journee.resultat.score }}</span>
                    {% endif %}
                </p>
                {% if not journee.errorMatchSheet %}
                    {% if 'teamForfeit' in journee|keys %}
                        <p><span style="border-radius: 5px; padding: 5px;" class="pastille grey darken-5">{{ journee.teamForfeit }} forfait</span></p>
                    {% elseif journee.joueurs|length > 0 %}
                        <table class="striped centered table-last-compos">
                            {% for nom, donnees in journee.joueurs %}
                                {% set nomFormatted = nom|split('#')[0] %}
                                {% if nomFormatted %}
                                    <tr>
                                        <td style="max-width: 50px">
                                            <span class="truncate">{{ nomFormatted }}</span>
                                        </td>
                                        <td>{% if donnees.points %}
                                                <span class="new badge light-blue darken-3" data-badge-caption="">{{ donnees.points }}</span>
                                            {% else %}
                                                <i style="font-size: 1.5em" class="material-icons tiny grey-text text">help</i>
                                            {% endif %}
                                        <td>
                                            {% for resultat in donnees.resultats %}
                                                <span class="reset pastille {{ resultat.resultat }}">{{ resultat.pointsJoueurAdversaire | raw }}</span>
                                            {% endfor %}
                                        </td>
                                    </tr>
                                {% endif %}
                            {% endfor %}
                            {% for id, donnees in journee.doubles %}
                                <tr>
                                    <td style="max-width: 50px" colspan="2">
                                    <span class="new badge {{ 'isBinomeWO' in donnees|keys ? 'blue lighten-2' : 'light-blue darken-3' }}" data-badge-caption="">
                                        {% if 'isBinomeWO' not in donnees|keys %}
                                            {% for points in donnees.binomeAdversaire %}
                                                {% if points %}
                                                    {{ points }}
                                                {% else %}
                                                    <i style="font-size: 1.7em" class="material-icons tiny">help</i>
                                                {% endif %}
                                                {% if not loop.last %} - {% endif %}
                                            {% endfor %}
                                        {% else %}
                                            WO
                                        {% endif %}
                                    </span>
                                    </td>
                                    <td>
                                        <span class="reset pastille {{ donnees.isBinomeWinner }} {{ 'isBinomeBisWO' in donnees|keys ? 'lighten-3' : (donnees.isBinomeWinner != 'red' ? '' : 'lighten-1') }}">
                                            {% if 'isBinomeBisWO' not in donnees|keys %}
                                                {% for points in donnees.binomeAdversaireBis %}
                                                    {% if points %}
                                                        {{ points }}
                                                    {% else %}
                                                        <i style="font-size: 1.5em" class="material-icons tiny">help</i>
                                                    {% endif %}
                                                    {% if not loop.last %} - {% endif %}
                                                {% endfor %}
                                            {% else %}
                                                WO
                                            {% endif %}
                                        </span>
                                    </td>
                                </tr>
                            {% endfor %}
                        </table>
                    {% else %}
                        <h6 class="center">En attente des r√©sulats ... patience üòä</h6>
                    {% endif %}
                {% else %}
                    <p><span style="border-radius: 5px; padding: 5px;" class="pastille grey darken-5">Feuille de match erron√©e</span></p>
                {% endif %}
            {% endif %}
        {% endfor %}
    {% else %}
        <h6 class="center pastille reset orange">Aucune rencontre n'est enregistr√©e pour le moment</h6>
    {% endif %}
{% endif %}