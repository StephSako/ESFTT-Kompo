function getGeneralClassementsVirtuels(idChampActif,forceReload=false){if(!alreadyCalledClassement||forceReload){alreadyCalledClassement=true;if(forceReload){$("a.reload_ranking").addClass("hide");$("#rankingContentLoader").removeClass("hide");$("#rankingContent").addClass("hide")}$.ajax({url:"/journee/general-classement-virtuel",type:"POST",data:{idChampActif:idChampActif},dataType:"json",success:responseTemplate=>{templatingClassementVirtuel("#rankingContent",responseTemplate,"#rankingContentLoader",false,true);if(alreadyCalledClassementEquipes)getEquipesClassementsVirtuels(idChampActif,true)},error:()=>{templatingClassementVirtuel("#rankingContent","<p style='margin-top: 10px' class='pastille reset red'>Le service de la FFTT rencontre des perturbations. Réessayez plus tard</p>","#rankingContentLoader",false,true)}})}}function getEquipesClassementsVirtuels(idChampActif,forceReload=false){if(!alreadyCalledClassementEquipes||forceReload){alreadyCalledClassementEquipes=true;if(forceReload){$("a.reload_ranking").addClass("hide");$("#preloaderProgressionsEquipes").removeClass("hide");$("#progressionsEquipes").addClass("hide")}$.ajax({url:"/journee/equipes-classement-virtuel",type:"POST",data:{idChampActif:idChampActif},dataType:"json",success:responseTemplate=>{templatingClassementVirtuel("#progressionsEquipes",responseTemplate,"#preloaderProgressionsEquipes",false,true)},error:()=>{templatingClassementVirtuel("#progressionsEquipes","<p style='margin-top: 10px' class='pastille reset red'>Le service de la FFTT rencontre des perturbations. Réessayez plus tard</p>","#preloaderProgressionsEquipes",false,true)}})}}let alreadyCalledClassement=false;let alreadyCalledClassementEquipes=false;function getPersonnalClassementVirtuel(licence,isReloadFromHistoMatches=false){if(!licence)templatingClassementVirtuel(".personnal_virtual_rank","<p style='margin-top: 10px' class='pastille reset red'>Licence indéfinie</p>",".preloader_personnal_virtual_rank");else{if(isReloadFromHistoMatches){$(".personnal_virtual_rank").each(function(){$(".preloader_personnal_virtual_rank").removeClass("hide");$(this).addClass("hide")})}$.ajax({url:"/journee/personnal-classement-virtuel",type:"POST",dataType:"json",success:responseTemplate=>{templatingClassementVirtuel(".personnal_virtual_rank",responseTemplate,isReloadFromHistoMatches)},error:()=>{templatingClassementVirtuel(".personnal_virtual_rank","<p style='margin-top: 10px' class='pastille reset red'>Service FFTT indisponible</p>",isReloadFromHistoMatches)}})}}function templatingClassementVirtuel(selector,response,preloader,reloadHistoMatches=false,general=false){$(selector).each(function(){if(general){$("a.reload_ranking").removeClass("hide");$(preloader).addClass("hide");$(selector).removeClass("hide");$(this).html(response.replaceAll("chart_js_historique_id","chart_js_historique_id"+$(this)[0].id))}else{$(".preloader_personnal_virtual_rank").addClass("hide");$(this).removeClass("hide").html(response.replaceAll("chart_js_historique_id","chart_js_historique_id"+$(this)[0].id))}});if(reloadHistoMatches)getHistoMatches()}